<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSR聲紋AI Demo</title>
    <link rel="icon" type="image/x-icon" href="img/NB_logo.ico">

    <meta property="og:title" content="CSR聲紋AI Demo">
    <!-- <meta property="og:description" content="A brief description of your page"> -->
    <meta property="og:image" content="img/fb_cover.png">
    <meta property="og:url" content="">
    <meta property="og:type" content="website">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="css/style.css">
    
    <noscript>
        <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=750960875270921&ev=PageView&noscript=1"/>
    </noscript>
</head>
<body>  
    <div class="container">
        <div class="row mt-0">
            <div id="app" class="mx-0 px-0">
                <div id="view-1" class="view">
                    <div class="container-fluid">
                        <div class="row" style="height: 86vh;">
                            <div class="title-box mt-5 pt-3">
                                <span class="my-5" style="font-size: smaller;">器捐病主中心Ｘ陽獅集團</span>
                                <h1 class="mt-5">為愛獻聲</h1>
                                <span style="font-size: 1.2em; letter-spacing: 5px;">讓AI替你說愛</span>
                                <img class="mt-5" src="img/mic.svg" alt="">
                            </div>
                        </div>
                    </div>
                    <footer class="fixed-bottom mx-5 mb-3">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col bot-group align-self-end">
                                    <div class="subtitle-box mb-3">
                                    </div>
                                    <button id="start-btn" class="mt-1 mb-3">開始</button>
                                    <p class="disclaimer mt-2" style="">進入頁面即同意<button class="btn disclaimer p-0" id="disclaimer_link" style="animation: fadeIn 1s ease-in forwards; text-decoration: underline;">相關條款聲明</button></p>
                                </div>
                            </div>
                        </div>
                    </footer>
                    <div class="ball-1"></div>
                    <div class="ball-2"></div>
                </div>
                <div id="view-2" class="view hidden">
                    <div class="container">
                        <div class="row" style="height: 80vh;">
                            <div class="col bot-group align-self-end">
                                <div class="subtitle-box animated_text-container mb-5 pb-5">
                                    <!-- <h2 class="subtitle" id="animated_text_1">恭喜你被選中參與New Balance #9060星球未來城市建造計畫。</h2>
                                    <h2 class="subtitle" id="animated_text_2">作為未來創造者， 你的每個嘗試與選擇， 將會產生獨一無二的成果。</h2>
                                    <h2 class="subtitle" id="animated_text_3">現在就跟著New Balance，自由自在地揮灑，打在屬於你的未來家園。</h2> -->
                                    <img src="img/text/Opening1_T1.svg" class="question_img mb-5" id="animated_img_1" alt="恭喜你被選中參與New Balance #9060星球未來城市建造計畫。">
                                    <img src="img/text/Opening2_T1.svg" class="question_img mb-5" id="animated_img_2" alt="作為未來創造者， 你的每個嘗試與選擇， 將會產生獨一無二的成果。">
                                    <img src="img/text/Opening3_T1.svg" class="question_img mb-5" id="animated_img_3" alt="現在就跟著New Balance，自由自在地揮灑，打在屬於你的未來家園。">
                                </div>
                                <div class="subtitle-box mb-5">
                                    <img src="img/my_choice.svg" id="opening_choice" alt="nb-logo">
                                </div>
                                <button id="start-building-btn" class="mt-1">開始建造</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="view-3" class="view hidden">
                    <!-- <h3 class="offset-md-2">你心中構想的未來城市的風貌會是...?</h3> -->
                    <img class="question_img mt-md-5 mb-md-5" src="img/text/Q1_T1.svg" alt="你心中構想的未來城市的風貌會是...">
                    <div class="container mt-3 mb-3">
                        <div class="row justify-content-center">
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Science" id="q1a">
                                    <label class="form-check-label q1-btn" for="q1a" id="Science">工業科技</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Fashion" id="q1b">
                                    <label class="form-check-label q1-btn" for="q1b" id="Fashion">時尚潮流</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Green & Lush" id="q1c">
                                    <label class="form-check-label q1-btn" for="q1c" id="Green & Lush">綠意盎然</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Bustling" id="q1d">
                                    <label class="form-check-label q1-btn" for="q1d" id="Bustling">喧鬧繁華</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Fantasy Wonderland" id="q1e">
                                    <label class="form-check-label q1-btn" for="q1e" id="Fantasy Wonderland">幻想仙境</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Modern" id="q1f">
                                    <label class="form-check-label q1-btn" for="q1f" id="Modern">摩登現代</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Underwater" id="q1g">
                                    <label class="form-check-label q1-btn" for="q1g" id="Underwater">深海探秘</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q1" value="Desert" id="q1h">
                                    <label class="form-check-label q1-btn" for="q1h" id="Desert">無際荒漠</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <img src="img/Q1_nav.svg" class="question_nav" alt="">
                    <!-- <button id="q1-btn">Next</button> -->
                </div>
                <div id="view-4" class="view hidden">
                    <!-- <h3 class="offset-md-2">踏上這個冒險旅程，你最想去的地方是...?</h3> -->
                    <img class="question_img mt-md-5 mb-md-5" src="img/text/Q2_T1.svg" alt="踏上這個冒險旅程，你最想去的地方是...">
                    <div class="container mt-3 mb-3">
                        <div class="row justify-content-center">
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Fine Art Gallery" id="q2a">
                                    <label class="form-check-label q2-btn" for="q2a" value="Fine Art Gallery">藝術畫廊</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Street Alley" id="q2b">
                                    <label class="form-check-label q2-btn" for="q2b" value="Street Alley">街頭巷弄</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Academy" id="q2c">
                                    <label class="form-check-label q2-btn" for="q2c" value="Academy">古典學院</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Museum" id="q2d">
                                    <label class="form-check-label q2-btn" for="q2d" value="Museum">現代博物館</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Sports Field" id="q2e">
                                    <label class="form-check-label q2-btn" for="q2e" value="Sports Field">熱血運動場</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Commercial District" id="q2f">
                                    <label class="form-check-label q2-btn" for="q2f" value="Commercial District">熙攘商圈</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Garden" id="q2g">
                                    <label class="form-check-label q2-btn" for="q2g" value="Garden">美麗花園</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q2" value="Coffeehouse" id="q2h">
                                    <label class="form-check-label q2-btn" for="q2h" value="Coffeehouse">優雅咖啡廳</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <img src="img/Q2_nav.svg" class="question_nav" alt="">
                    <!-- <button id="q2-btn">Next</button> -->
                </div>
                <div id="view-5" class="view hidden">
                    <!-- <h3 class="offset-md-2">這座城市呈現的整體色彩氛圍是...</h3> -->
                    <img class="question_img mt-md-5 mb-md-5" src="img/text/Q3_T1.svg" alt="這座城市呈現的整體色彩氛圍是...">
                    <div class="container mt-3 mb-3">
                        <div class="row justify-content-center">
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Metallic Tones" id="q3a">
                                    <label class="form-check-label q3-btn" for="q3a">金屬色調</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Mauve" id="q3b">
                                    <label class="form-check-label q3-btn" for="q3b">莫蘭蒂色</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Warm Tones" id="q3c">
                                    <label class="form-check-label q3-btn" for="q3c">溫暖色調</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Cool Tones" id="q3d">
                                    <label class="form-check-label q3-btn" for="q3d">冷艷色調</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Earth Tones" id="q3e">
                                    <label class="form-check-label q3-btn" for="q3e">大地色調</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Ocean Blue" id="q3f">
                                    <label class="form-check-label q3-btn" for="q3f">海洋藍色</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Psychedelic Purple" id="q3g">
                                    <label class="form-check-label q3-btn" for="q3g">迷幻紫調</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q3" value="Black And White" id="q3h">
                                    <label class="form-check-label q3-btn" for="q3h">簡約黑白</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <img src="img/Q3_nav.svg" class="question_nav" alt="">
                    <!-- <button id="q3-btn">Next</button> -->
                </div>
                <div id="view-6" class="view hidden">
                    <!-- <h3 class="offset-md-2">最後，你期待遇見這座城市的哪個驚喜時刻...?</h3> -->
                    <img class="question_img mt-md-5 mb-md-5" src="img/text/Q4_T1.svg" alt="最後，你期待遇見這座城市的哪個驚喜時刻...">
                    <div class="container mt-3 mb-3">
                        <div class="row justify-content-center">
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" value="Earily Morning" id="q4a">
                                    <label class="form-check-label q4-btn" for="q4a">清晨</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" value="Morning" id="q4b">
                                    <label class="form-check-label q4-btn" for="q4b">早上</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" value="Noon" id="q4c">
                                    <label class="form-check-label q4-btn" for="q4c">正午</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" value="Afternoon" id="q4d">
                                    <label class="form-check-label q4-btn" for="q4d">午後</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" value="Evening" id="q4e">
                                    <label class="form-check-label q4-btn" for="q4e">傍晚</label>
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="q4" value="Night" id="q4f">
                                    <label class="form-check-label q4-btn" for="q4f">夜晚</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <img src="img/Q4_nav.svg" class="question_nav" alt="">
                    <!-- <button id="q4-btn">Next</button> -->
                </div>
                <div id="view-wait" class="view hidden">
                    <div class="containier">
                        <div class="row align-items-center" style="height: 80vh;">
                            <div class="col-md-12 justify-content-center">
                                <!-- <div class="loader mx-auto"></div> -->
                                <img src="img/Loading_icon.svg" class="processing_img" alt="">
                                <img src="img/city_building.svg" id="city_building" class="d-block mx-auto mt-5" alt="city_building">
                            </div>
                        </div>
                    </div>
                </div>
                <div id="view-7" class="view hidden">
                    <div class="container-fluid mx-0 px-0">
                        <img class="result_image" src='img/temp.png' id="resultImage"src="" alt="">
                    </div>
                    <footer class="fixed-bottom">
                        <div class="container-fluid mx-0 px-0">
                            <div class="row">
                                <div class="col">
                                    <img class="result_shoe" id="shoe-image" src="img/NB9060purple.png" alt="">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col result-text mb-1 mb-md-3 mt-md-3">
                                    <h4 class="result_header">準備 邁步未來？</h4>
                                    <h4 class="result_line1">穿上<span class="result_line1-1" id="result_text">俐落率性的</span><img src="img/9060.svg" class="result_9060" alt=""><span class="result_line1 d-none d-md-inline">探索未來城市</span></h4>
                                    <h4 class="result_line2 d-md-none">探索未來城市</h4>
                                </div>
                            </div>
                            <div class="row mb-3 mb-md-5">
                                <div class="col col-md-2 offset-md-3">
                                    <button class="btn btn-share-again" id="btn-play-again"><img src="img/btn_playagain.svg" class="result_icons" alt="">再玩一次</button>
                                </div>
                                <div class="col col-md-2">
                                    <button class="btn btn-share-again" id="btn-share"><img src="img/btn_share.svg" class="result_icons" alt="">儲存圖片</button>
                                </div>
                                <div class="col col-md-2">
                                    <button class="btn btn-share-again" id="q7-btn"><img src="img/btn_more.svg" class="result_icons" alt="">更多作品</button>
                                </div>
                            </div>
                            <div class="row mt-1 d-flex justify-content-between align-items-end">
                                <a class="btn btn-bottom" id="btn-bottom-1" href="https://www.newbalance.com.tw/9060-1/" target="_blank"><img src="img/NB_logo_White.svg" class="link-logo" alt="">官方網站</a>
                                <a class="btn btn-bottom" id="btn-bottom-2" href="https://maac.io/22T4r" target="_blank">加入LINE好友</a>
                            </div>
                        </div>
                    </footer>
                </div>
                <div id="view-8" class="view hidden">
                    <div class="container-fluid mt-xs-3 mt-sm-0">
                        <div class="row">
                            <button class="mx-auto btn" id="q8-btn" style="max-width: 100px;"><img src="img/text/return.svg" alt=""></button>
                        </div>
                    </div>
                    <div class="container-fluid">
                        <div class="row">
                            <div class="gallery-title-box">
                                <img src="img/text/Gallery_T1.svg" class="question_img_gallery" alt="想像，可以無限!來看看更多獨一無二的未來城市吧" style="color: #121842;">
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12 px-3">
                            <div class="gallery hide-scrollbar">
                                <div class="row" id="gallery-container">
                                    
                                </div>
                                <div class="row my-3">
                                    <div class="col">
                                        <button class="btn btn-share-again" id="btn_load_more" style="width: 40%;">load more</button>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col">
                                <button class="triangle-button"></button>
                            </div>
                        </div>
                    </div>
                    <footer class="fixed-bottom">
                        <div class="container">
                            <div class="row">
                                <div class="col result-text mb-3 mb-md-1">
                                    <div class="gallery-title-box">
                                        <img src="img/text/Gallery_T2.svg" class="question_img_gallery" alt="9060致敬經典的未來實驗性鞋履">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="container-fluid mx-0 px-0">
                            <div class="row mt-3 d-flex justify-content-between align-items-end">
                                <a class="btn btn-bottom" id="btn-bottom-3" href="https://www.newbalance.com.tw/9060-1/" target="_blank"><img src="img/NB_logo_White.svg" class="link-logo" alt="">官方網站</a>
                                <a class="btn btn-bottom" id="btn-bottom-4" href="https://maac.io/22T4r" target="_blank">加入LINE好友</a>
                            </div>
                        </div>
                    </footer>
                </div>
                <div id="view-9" class="view hidden">
                    <div class="container-fluid mt-xs-3 mt-sm-0">
                        <div class="row">
                            <button class="mx-auto btn" id="q9-btn" style="max-width: 100px;"><img src="img/text/return.svg" alt=""></button>
                        </div>
                    </div>
                    <div class="container mt-3 mb-3">
                        <div class="row mb-3">
                            <div class="col share_result_image mx-auto">
                                <canvas id="myCanvas" width="720" height="1320" style="display: none;"></canvas>
                                <img src='img/sample_img.png' id="image-to-share" src="" alt="" style="width: 100%;">
                                <div style="height: 40px; color: white; background-color: #121842;font-size: small; padding-top: 10px;">長按上方存圖</div>
                                <!-- <img src="img/text/save.svg" alt="" style="width: 100%;"> -->
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col">
                                <h4 class="result_line1">邀請朋友建造未來城市</h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="share-buttons justify-content-center">
                                    <a href="#" class="ins-share" id="ins-share"><img class="social_icon" src="img/ig icon-sharing page.svg" alt=""></a>
                                    <a href="#" class="facebook-share"><img class="social_icon" src="img/fb icon-sharing page.svg" alt=""></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="view-10" class="view hidden">
                    <div class="container-fluid hide-scrollbar py-3" style="background-color: #6976D4; height: 80vh;">
                        <div class="row">
                            <div class="col d-flex justify-content-end">
                                <button class="btn" id="disclaimer_close" style=" color: white;">X</button>
                            </div>
                        </div>
                        <div class="row hide-scrollbar" style="height: 100%;">
                            <div class="co-12">
                                <div class="" style="text-align: left; color: white;">
                                    <p>本活動之主辦單位為台灣紐巴倫股份有限公司(下稱主辦單位)​</p>
                                    <p>本活動參與者於參加本活動前應閱讀以下本活動條款：​​</p>
                                    <p>*本活動參與者於參加本活動之同時，即視為已同意接受本活動條款。​</p>
                                    <ol>
                                        <li>New Balance 9060未來計畫活動網站將存取所有本活動參與者參與本活動所生成的「未來城市圖像」(以下稱本活動生成圖像) 作為展示。主辦單位就全部本活動生成圖像均保有彈性使用權利，恕不另行通知。​</li>
                                        <li>本活動所有相關素材及本活動生成圖像，包括但不限於著作（包含著作人格權及著作財產權）、商標、圖形、網頁、程式碼、智慧財產權以及其他權利及利益等，均為主辦單位所有。本活動參與者參與本活動所生成的本活動生成圖像並不代表其已取得或被授予上述的任何權利。除另經主辦單位事前書面同意外，本活動參與者或任何第三人均不得以任何方法（無論直接或間接、有償或無償、商用或非商用）逕行使用(包括但不限於重製、改作、散布、出租、發行、公開發表、公開播送、還原工程、解編、反向組譯等)或行使任何屬於主辦單位的權利。​</li>
                                        <li>本活動生成圖像經由第三方平台「DALL·E 2」之AI圖像生成技術產出，如有相關版權異議與主辦單位無關。主辦單位不對因使用前揭AI圖像生成技術而引起之任何損失、損害、訴訟或其他問題負責，亦不保證前揭技術所協助生成的本活動生成圖像內容能符合本活動參與者之預期結果。</li>
                                        <li>主辦單位不保證本活動網站功能、及本活動生成圖像相關的AI圖像生成技術之風險和不確定性(包括但不限於遭駭客攻擊或盜取、電腦病毒入侵、系統故障、使用者故意或過失、相容性、因政府/法令管制或天災等因素)，亦不對此等風險和不確定性承擔任何義務與責任。​</li>
                                        <li>本活動如因任何電腦、網際網路、各式線路、技術或其他不可歸責於主辦單位或其委託之執行廠商的因素，而致使本活動參與者所填寫、選擇、輸入或產出之資料有延遲、錯誤、無法辨識、遺失、毀損等資料無效之情況，主辦單位及受委託的執行廠商均不負任何法律責任或賠償責任，本活動參與者不得因此異議。​</li>
                                        <li>本活動參與者聲明並保證本活動生成圖像不會被用於任何非法活動、違反社會道德、或違反公序良俗之行為(包括但不限於侵害他人法益、侵犯他人隱私、詐欺、詆毀、不當傳銷、販賣非法物品等)，倘因本活動參與者之因素所致的相關爭議一概與主辦單位無涉，概由本活動參與者承擔所有相關的法律責任與完全賠償責任。</li>
                                        <li>本活動參與者不得以惡意電腦程式或其他明顯違反活動公平性之方式意圖混淆或影響其他活動參與者、亦不得有違法之行為，如經主辦單位發現或遭第三人檢舉本活動參與者有上述行為時，主辦單位得逕行取消其活動參加資格。​</li>
                                        <li>如因本活動參與者未遵守本活動條款而致影響主辦單位或第三方之權益、或使主辦單位或第三方受有任何損害，本活動參與者應自負一切民刑事責任與完全賠償責任。​</li>
                                        <li>主辦單位保留不時審查、補充、解釋、修改、終止、變更以上條款與本活動內容細節之權利，任何關於本活動內容、執行與變更詳情以【New Balance官方粉絲專頁】所公布之訊息為準。</li>
                                        <li>主辦單位有權對本活動所有事宜與爭議作出解釋或裁決。如有任何未盡事宜，均以主辦單位依中華民國法律解釋之。​
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="view-11" class="view hidden mx-0">
                    <div class="container-fluid mx-0 px-0 swipe-background-transition" style="height: 100vh; background-position: 0% center;" id="swipe-background">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const imageUrl = 'https://www.nb9060futureplan.com/';
        const shareText = encodeURIComponent("Check out this awesome image!");
        const shareUrl = encodeURIComponent(window.location.href);

        const facebookShare = document.querySelector(".facebook-share");
        // const insShare = document.querySelector(".ins-share");
        const downloadSHare = document.querySelector(".download-share");

        facebookShare.href = 'https://www.facebook.com/sharer/sharer.php?u=' + imageUrl;
        // insShare.href = 'instagram://';

        const insShare = document.getElementById('ins-share');
        const btnLoadMore = document.getElementById('btn_load_more');

        insShare.addEventListener('click', () => {
            const mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const appUrl = "https://www.instagram.com/"; // Replace YOUR_USERNAME with your Instagram username
            const webUrl = "https://www.instagram.com/"; // Replace YOUR_USERNAME with your Instagram username
            const url = mobile ? appUrl : webUrl;
            window.open(url, "_blank");
        });

        const imageLinks = [
            "img/gallery/001.png",
            "img/gallery/002.png",
            "img/gallery/003.png",
            "img/gallery/004.png",
            "img/gallery/005.png",
            "img/gallery/006.png",
            "img/gallery/007.png",
            "img/gallery/008.png",
            "img/gallery/009.png",
            "img/gallery/010.png",
            "img/gallery/011.png",
            "img/gallery/012.png",
            "img/gallery/013.png",
            "img/gallery/014.png",
            "img/gallery/015.png",
            "img/gallery/016.png",
            "img/gallery/017.png",
            "img/gallery/018.png",
            "img/gallery/019.png",
            "img/gallery/020.png",
            "img/gallery/021.png",
            "img/gallery/022.png",
            "img/gallery/023.png",
            "img/gallery/024.png",
            "img/gallery/025.png",
            "img/gallery/026.png",
            "img/gallery/027.png",
            "img/gallery/028.png",
            "img/gallery/029.png",
            "img/gallery/030.png",
            "img/gallery/031.png",
            "img/gallery/032.png",
            "img/gallery/033.png",
        ];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        shuffleArray(imageLinks);

        const galleryContainer = document.getElementById("gallery-container");

        let imagesLoaded = 0;

        function loadImages(batchSize) {
            for (let i = imagesLoaded; i < imagesLoaded + batchSize && i < imageLinks.length; i++) {
                const imgElement = document.createElement("img");
                imgElement.classList.add("gallery_image");
                imgElement.src = imageLinks[i];
                imgElement.alt = imageLinks[i];

                const col4Div = document.createElement("div");
                col4Div.classList.add("col-4");
                col4Div.classList.add("px-1");
                col4Div.appendChild(imgElement);

                galleryContainer.appendChild(col4Div);
            }
            imagesLoaded += batchSize;
            if (imagesLoaded >= imageLinks.length) {
                btnLoadMore.style.display = "none"; // Hide the Add button when all images are loaded
            }
        }

        loadImages(6); // Load the first six images

        btnLoadMore.addEventListener("click", () => {
            loadImages(6); // Load six more images on button click
        });

        const startBtn = document.getElementById('start-btn');
        const startBuildingBtn = document.getElementById('start-building-btn');
        // const q1Btn = document.getElementById('q1-btn');
        // const q2Btn = document.getElementById('q2-btn');
        // const q3Btn = document.getElementById('q3-btn');
        // const q4Btn = document.getElementById('q4-btn');
        const views = document.getElementsByClassName('view');
        const result = document.getElementById('result');
        const q7Btn = document.getElementById('q7-btn');
        const q8Btn = document.getElementById('q8-btn');
        const q9Btn = document.getElementById('q9-btn');

        const btnHome = document.getElementById('btn_home');

        const disclaimerClose = document.getElementById('disclaimer_close');
        const disclaimerLink = document.getElementById('disclaimer_link');

        const nbLogoR = document.getElementById('nb-logo-r');

        var q1Btns = document.getElementsByClassName("q1-btn");
        var q2Btns = document.getElementsByClassName("q2-btn");
        var q3Btns = document.getElementsByClassName("q3-btn");
        var q4Btns = document.getElementsByClassName("q4-btn");

        const shoeImage = document.getElementById('shoe-image');
        const btnPlayAgain = document.getElementById('btn-play-again');
        const btnShare = document.getElementById('btn-share');
        const btnBottom1 = document.getElementById('btn-bottom-1');
        const btnBottom2 = document.getElementById('btn-bottom-2');
        const btnBottom3 = document.getElementById('btn-bottom-3');
        const btnBottom4 = document.getElementById('btn-bottom-4');
        const resultText = document.getElementById('result_text');

        const resultImage = document.getElementById('resultImage');
        const swipeBackground = document.getElementById('swipe-background');

        
        btnBottom1.addEventListener('click', () => {
            gtag('event', 'click', { 'event_category' : 'outbound', 'event_label' : '2023 AI_NB官網'});
            _lt('send', 'cv', {
                type: '2023NBMDWebBTN'
            },['32546981-0c0a-4787-8955-4d6ca740f2ab']);
            fbq('track', 'Lead',{product_id:'9060_Officialwebsite'});
            gtag_report_conversion_to_nb();
        });
        btnBottom2.addEventListener('click', () => {
            gtag('event', 'click', { 'event_category' : 'outbound', 'event_label' : '2023 AI_LINE OA'});
            _lt('send', 'cv', {
                type: '2023NBMDOABTN'
            },['32546981-0c0a-4787-8955-4d6ca740f2ab']);
            fbq('track', 'Lead',{product_id:'9060_LINE'});
            gtag_report_conversion_add_line();
        });
        btnBottom3.addEventListener('click', () => {
            gtag('event', 'click', { 'event_category' : 'outbound', 'event_label' : '2023 AI_NB官網'});
            _lt('send', 'cv', {
                type: '2023NBMDWebBTN'
            },['32546981-0c0a-4787-8955-4d6ca740f2ab']);
            fbq('track', 'Lead',{product_id:'9060_Officialwebsite'});
            gtag_report_conversion_to_nb();
        });
        btnBottom4.addEventListener('click', () => {
            gtag('event', 'click', { 'event_category' : 'outbound', 'event_label' : '2023 AI_LINE OA'});
            _lt('send', 'cv', {
                type: '2023NBMDOABTN'
            },['32546981-0c0a-4787-8955-4d6ca740f2ab']);
            fbq('track', 'Lead',{product_id:'9060_LINE'});
            gtag_report_conversion_add_line();
        });

        const getData = async (url) => {
            try {
                const response = await fetch(url);

                if (!response.ok) {
                throw new Error(`HTTP error: ${response.status}`);
                }

                const jsonResponse = await response.json();
                return jsonResponse;
            } catch (error) {
                console.error('Error sending GET request:', error);
            }
        };

        const inputs = document.getElementsByClassName('form-check-input');

        btnPlayAgain.addEventListener('click', () => {
            gtag_report_conversion_again();
            gtag('event', 'click', { 'event_category' : 'outbound', 'event_label' : '2023 AI_再玩一次'});
            fbq('track', 'Lead',{product_id:'9060_Again'});
            _lt('send', 'cv', {
                type: '2023NBMDPlayBTN'
            },['32546981-0c0a-4787-8955-4d6ca740f2ab']);
            navigateToView(2);
            nbLogoR.classList.add('hidden');
            for (let i = 0; i < inputs.length; i++) {
                inputs[i].checked = false;
            }
            document.body.style.backgroundImage = "url('img/bg1.png')";
        });

        startBtn.addEventListener('click', () => {
            gtag_report_conversion_start();
            gtag('event', 'click', { 'event_category' : 'outbound', 'event_label' : '2023 AI_進入'});
            fbq('track', 'Lead',{product_id:'9060_Enter'});
            _lt('send', 'cv', {
                type: '2023NBMDEnterBTN'
            },['32546981-0c0a-4787-8955-4d6ca740f2ab']);
            navigateToView(1);
            if (window.matchMedia('(min-width: 768px)').matches) {
                document.body.style.backgroundImage = "url('img/Opening_desktop.png')";
            } else {
                document.body.style.backgroundImage = "url('img/Opening_mobile.png')";
            }
        });
        startBuildingBtn.addEventListener('click', () => {
            navigateToView(2);
            document.body.style.backgroundImage = "url('img/bg1.png')";
        });

        disclaimerClose.addEventListener('click', () => {
            navigateToView(0);
        });
        disclaimerLink.addEventListener('click', () => {
            navigateToView(10);
        });

        btnHome.addEventListener('click', () => {
            navigateToView(0);
            for (let i = 0; i < inputs.length; i++) {
                inputs[i].checked = false;
            }
            if (window.matchMedia('(min-width: 768px)').matches) {
                document.body.style.backgroundImage = "url('img/start_desktop_full.png')";
            } else {
                document.body.style.backgroundImage = "url('img/start_mobile_full.png')";
            }
        });

        // Add a click event to each element
		for (var i = 0; i < q1Btns.length; i++) {q1Btns[i].addEventListener('click', () => {navigateToView(3);});}
        for (var i = 0; i < q2Btns.length; i++) {q2Btns[i].addEventListener('click', () => {navigateToView(4);});}
        for (var i = 0; i < q3Btns.length; i++) {q3Btns[i].addEventListener('click', () => {navigateToView(5);});}
        for (var i = 0; i < q4Btns.length; i++) {
            q4Btns[i].addEventListener('click', () => {
                navigateToView(6); // Show the wait view
                setTimeout(() => {
                    handleResults();
                }, 2000),
                setTimeout(() => {
                    if (window.matchMedia('(min-width: 768px)').matches) {
                        
                    } else {
                        document.getElementById('navbar').classList.add('hidden');
                        swipeBackground.style.backgroundImage = 'url('+resultImage.src+')';
                        navigateToView(11);
                        setTimeout(() => {
                            swipeBackground.style.backgroundPosition = '100% center';
                        }, 100);
                        // setTimeout(() => {
                        //     // swipeBackground.style.backgroundPosition = '100% center';
                        //     // document.body.style.backgroundImage = originalBackgroundImage;
                        // }, 1700);
                    }
                }, 16500);
                setTimeout(() => {
                    displayResults();
                }, 18500);
                setTimeout(() => {
                    navigateToView(7); // Show the result view after 5 seconds
                    document.getElementById('navbar').classList.remove('hidden');
                    swipeBackground.style.backgroundPosition = '0% center';
                    nbLogoR.classList.remove('hidden');
                }, 19000);
            });
        }

        // q1Btn.addEventListener('click', () => {
        //     navigateToView(3);
        // });

        // q2Btn.addEventListener('click', () => {
        //     navigateToView(4);
        // });

        // q3Btn.addEventListener('click', () => {
        //     navigateToView(5);
        // });

        // q4Btn.addEventListener('click', () => {
        //     navigateToView(6); // Show the wait view
        //     handleResults();
        //     setTimeout(() => {
        //         displayResults();
        //         navigateToView(7); // Show the result view after 5 seconds
        //     }, 7000);
        // });
        
        // const btnTest = document.getElementById('test_button');
        // btnTest.addEventListener('click', () => {
        //     navigateToView(11);
            
        //     document.getElementById('swipe-background').style.backgroundPosition = '100% center';
        //     setTimeout(() => {
        //         // document.body.style.backgroundImage = originalBackgroundImage;
        //         document.getElementById('swipe-background').style.backgroundPosition = '0% center';
        //     }, 2000);
            
        //     document.getElementById('navbar').classList.add('hidden');
        // });

        q7Btn.addEventListener('click', () => {
            navigateToView(8);
        });
        q8Btn.addEventListener('click', () => {
            navigateToView(7);
        });
        q9Btn.addEventListener('click', () => {
            navigateToView(7);
        });
        btnShare.addEventListener('click', () => {
            gtag_report_conversion_share();
            gtag('event', 'click', { 'event_category' : 'outbound', 'event_label' : '2023 AI_分享'});
            fbq('track', 'Lead',{product_id:'9060_Share'});
            _lt('send', 'cv', {
                type: '2023NBMDShareBTN'
            },['32546981-0c0a-4787-8955-4d6ca740f2ab']);
            navigateToView(9);
        });

        function navigateToView(viewIndex) {
            for (let i = 0; i < views.length; i++) {
                if (i === viewIndex) {
                    views[i].classList.remove('hidden');
                    // views[i].style.opacity = '1';
                } else {
                    views[i].classList.add('hidden');
                    // views[i].style.opacity = '0';
                }
            }
        }
        async function handleResults() {
            console.log('handleResults')
            var q1 = document.querySelector('input[name="q1"]:checked').value;
            var q2 = document.querySelector('input[name="q2"]:checked').value;
            var q3 = document.querySelector('input[name="q3"]:checked').value;
            var q4 = document.querySelector('input[name="q4"]:checked').value;

            // Send a GET request with the answers as query parameters
            const url = `https://chatgptdemo.williamhsu.com.tw/prompts/new_balance/run/?input1=${q1}&input2=${q2}&input3=${q3}&input4=${q4}`;
            
            const responseData = await getData(url);

            if (responseData) {
                const resultImage = document.getElementById('resultImage');
                // Set the src attribute of the img element
                console.log(responseData)
                if (responseData.url === "") {
                    resultImage.src = "data:image/png;base64," + responseData.image;
                } else {
                    console.log('right place')
                    fetch(responseData.url)
                        .then(response => response.blob())
                        .then(blob => {
                            // Create a FileReader object
                            const reader = new FileReader();

                            // Convert the blob to base64 string
                            reader.readAsDataURL(blob);
                            reader.onloadend = () => {
                                const base64String = reader.result;

                                // Assign the base64 string to the img tag
                                resultImage.src = base64String;
                            };
                        })
                        .catch(error => {
                            console.error(error);
                        });
                    // resultImage.src = responseData.url;
                }
                // document.getElementById("image-to-share").src = responseData.url;
            }
        }

        function displayResults() {
            const resultMaterial = [
                {
                    desktopBack: "url('img/Result-green-desktop.png')",
                    mobileBack: "url('img/Result-green-mobile.png')",
                    buttonBack: "url('img/Green Button-02.png')",
                    color: "radial-gradient(50% 50% at 50% 50%, #A3E0CC 0%, #66B09F 92.71%)",
                    shoe: "img/NB9060green.png",
                    resultText: ['前衛摩登的', '復古未來的'],
                    backgroundImage: ['img/base_image/sample_base_green_02.png', 'img/base_image/sample_base_green_01.png'],
                },
                {
                    desktopBack: "url('img/Result-pink-desktop.png')",
                    mobileBack: "url('img/Result-pink-mobile.png')",
                    buttonBack: "url('img/Pink Button-02.png')",
                    color: "radial-gradient(50% 50% at 50% 50%, #F8C5CB 9.37%, #E78A94 100%)",
                    shoe: "img/NB9060pink.png",
                    resultText: ['時髦多變的', '時尚美學的'],
                    backgroundImage: ['img/base_image/sample_base_pink_01.png', 'img/base_image/sample_base_pink_02.png'],
                },
                {
                    desktopBack: "url('img/Result-purple-desktop.png')",
                    mobileBack: "url('img/Result-purple-mobile.png')",
                    buttonBack: "url('img/Purple Button-02.png')",
                    color: "radial-gradient(50% 50% at 50% 50%, #9D9ACC 0%, #7571AF 100%)",
                    shoe: "img/NB9060purple.png",
                    resultText: ['俐落率性的', '穩健舒適的'],
                    backgroundImage: ['img/base_image/sample_base_purple_01.png', 'img/base_image/sample_base_purple_02.png'],
                },
            ]

            let randomInt = Math.floor(Math.random() * 3);

            shoeImage.src = resultMaterial[randomInt].shoe;
            
            btnPlayAgain.style.background = resultMaterial[randomInt].color;
            btnShare.style.background = resultMaterial[randomInt].color;
            q7Btn.style.background = resultMaterial[randomInt].color;
            btnLoadMore.style.background = resultMaterial[randomInt].color;
            
            btnBottom2.style.background = resultMaterial[randomInt].color;
            btnBottom1.style.backgroundImage = resultMaterial[randomInt].buttonBack;
            btnBottom4.style.background = resultMaterial[randomInt].color;
            btnBottom3.style.backgroundImage = resultMaterial[randomInt].buttonBack;
            if (window.matchMedia('(min-width: 768px)').matches) {
                document.body.style.backgroundImage = resultMaterial[randomInt].desktopBack;
            } else {
                document.body.style.backgroundImage = resultMaterial[randomInt].mobileBack;
            }
            let randomInt2 = Math.floor(Math.random() * 2);
            resultText.textContent = resultMaterial[randomInt].resultText[randomInt2]
            
            // var local_imageUrl = 'https://williamhsu17.github.io/new_balance/';
            // facebookShare.href = 'https://www.facebook.com/sharer/sharer.php?u=${local_imageUrl}';

            preloadImages({
                'background': resultMaterial[randomInt].backgroundImage[randomInt2],
                'image': document.getElementById("resultImage").src,
                // 'image': 'img/temp.png',
                'shoe': resultMaterial[randomInt].shoe,
            }, (images) => {
                createImage(images);
            });
        }

        // image generation section ------------------------------------------------------------------
        // const btnGenerateImage = document.getElementById('generate_image');
    
        // btnGenerateImage.addEventListener('click', () => {
        //     preloadImages({
        //         'background': 'img/base_image/sample_base_green_01.png',
        //         'image': 'img/temp.png',
        //         'shoe': 'img/NB9060green.png',
        //     }, (images) => {
        //         createImage(images);
        //     });
        // });

        function preloadImages(imagesDictionary, callback) {
            const urls = Object.values(imagesDictionary);
            const images = {};
            let loaded = 0;

            Object.keys(imagesDictionary).forEach((key, index) => {
                const img = new Image();
                img.onload = () => {
                images[key] = img;
                loaded++;
                if (loaded === urls.length) {
                    callback(images);
                }
                };
                img.onerror = (error) => {
                    console.log(`Error loading image: ${urls[index]}`);
                    loaded++;
                    if (loaded === urls.length) {
                        callback(images);
                    }
                };
                // if (urls[index].startsWith('http') && !urls[index].startsWith(window.location.origin)) {
                //     img.crossOrigin = 'Anonymous';
                // }
                img.src = urls[index];
            });
        }
        const imagesDictionary = {
        'background': 'img/base_image/sample_base_green_01.png',
        'image': 'img/temp.png',
        'shoe': 'img/NB9060green.png',
        };

        function createImage(images) {
            const canvas = document.getElementById('myCanvas');
            const context = canvas.getContext('2d');

            const image1 = images['background'];
            const image2 = images['image'];
            const image3 = images['shoe'];
            
            context.drawImage(image1, 0, 0, 720, 1320);
            context.drawImage(image2, 0, 148, 720, 720);
            context.drawImage(image3, 108, 780, 504, 224);
            // context.drawImage(image1, 0, 0, canvas.width, canvas.height);
            // context.drawImage(image2, 0, canvas.height / 8.92, canvas.width, canvas.width);
            // context.drawImage(image3, canvas.width * 0.15, canvas.height * 0.59, canvas.width * 0.7, canvas.height * 0.17);
      
            const img = document.getElementById('image-to-share');
            img.src = canvas.toDataURL();
        }
    </script>
</body>
</html>
